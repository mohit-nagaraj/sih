{"ast":null,"code":"//\n// Main\n//\n\nfunction memoize(fn, options) {\n  var cache = options && options.cache ? options.cache : cacheDefault;\n  var serializer = options && options.serializer ? options.serializer : serializerDefault;\n  var strategy = options && options.strategy ? options.strategy : strategyDefault;\n  return strategy(fn, {\n    cache: cache,\n    serializer: serializer\n  });\n}\n\n//\n// Strategy\n//\n\nfunction isPrimitive(value) {\n  return value == null || typeof value === 'number' || typeof value === 'boolean'; // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\n\nfunction monadic(fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n  var computedValue = cache.get(cacheKey);\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.call(this, arg);\n    cache.set(cacheKey, computedValue);\n  }\n  return computedValue;\n}\nfunction variadic(fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3);\n  var cacheKey = serializer(args);\n  var computedValue = cache.get(cacheKey);\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.apply(this, args);\n    cache.set(cacheKey, computedValue);\n  }\n  return computedValue;\n}\nfunction assemble(fn, context, strategy, cache, serialize) {\n  return strategy.bind(context, fn, cache, serialize);\n}\nfunction strategyDefault(fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic;\n  return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\nfunction strategyVariadic(fn, options) {\n  var strategy = variadic;\n  return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\nfunction strategyMonadic(fn, options) {\n  var strategy = monadic;\n  return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\n\n//\n// Serializer\n//\n\nfunction serializerDefault() {\n  return JSON.stringify(arguments);\n}\n\n//\n// Cache\n//\n\nfunction ObjectWithoutPrototypeCache() {\n  this.cache = Object.create(null);\n}\nObjectWithoutPrototypeCache.prototype.has = function (key) {\n  return key in this.cache;\n};\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n  return this.cache[key];\n};\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n  this.cache[key] = value;\n};\nvar cacheDefault = {\n  create: function create() {\n    return new ObjectWithoutPrototypeCache();\n  }\n};\n\n//\n// API\n//\n\nmodule.exports = memoize;\nmodule.exports.strategies = {\n  variadic: strategyVariadic,\n  monadic: strategyMonadic\n};","map":{"version":3,"names":["memoize","fn","options","cache","cacheDefault","serializer","serializerDefault","strategy","strategyDefault","isPrimitive","value","monadic","arg","cacheKey","computedValue","get","call","set","variadic","args","Array","prototype","slice","arguments","apply","assemble","context","serialize","bind","length","create","strategyVariadic","strategyMonadic","JSON","stringify","ObjectWithoutPrototypeCache","Object","has","key","module","exports","strategies"],"sources":["E:/proj/landing/node_modules/fast-memoize/src/index.js"],"sourcesContent":["//\n// Main\n//\n\nfunction memoize (fn, options) {\n  var cache = options && options.cache\n    ? options.cache\n    : cacheDefault\n\n  var serializer = options && options.serializer\n    ? options.serializer\n    : serializerDefault\n\n  var strategy = options && options.strategy\n    ? options.strategy\n    : strategyDefault\n\n  return strategy(fn, {\n    cache: cache,\n    serializer: serializer\n  })\n}\n\n//\n// Strategy\n//\n\nfunction isPrimitive (value) {\n  return value == null || typeof value === 'number' || typeof value === 'boolean' // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\n\nfunction monadic (fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.call(this, arg)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction variadic (fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3)\n  var cacheKey = serializer(args)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.apply(this, args)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction assemble (fn, context, strategy, cache, serialize) {\n  return strategy.bind(\n    context,\n    fn,\n    cache,\n    serialize\n  )\n}\n\nfunction strategyDefault (fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyVariadic (fn, options) {\n  var strategy = variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyMonadic (fn, options) {\n  var strategy = monadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\n//\n// Serializer\n//\n\nfunction serializerDefault () {\n  return JSON.stringify(arguments)\n}\n\n//\n// Cache\n//\n\nfunction ObjectWithoutPrototypeCache () {\n  this.cache = Object.create(null)\n}\n\nObjectWithoutPrototypeCache.prototype.has = function (key) {\n  return (key in this.cache)\n}\n\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n  return this.cache[key]\n}\n\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n  this.cache[key] = value\n}\n\nvar cacheDefault = {\n  create: function create () {\n    return new ObjectWithoutPrototypeCache()\n  }\n}\n\n//\n// API\n//\n\nmodule.exports = memoize\nmodule.exports.strategies = {\n  variadic: strategyVariadic,\n  monadic: strategyMonadic\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}